---
title: 
author: Michael Ellis
date: '2021-11-28'
slug: 
categories: []
tags: []
subtitle: ''
summary: ''
authors: []
lastmod: '2021-11-28T15:28:25-05:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---

```{r, eval=FALSE}
library("tidyverse")

shot_loc <- function(x, y) {
    
    if(y <= 7.8) {
        if(x > 22) {
            # corner 3
            shot_type <- "C3"
        } else {
            # 2 PT
            shot_type <- "2PT"
        }
    } else {
        dist <- sqrt(x^2 + y^2)
        
        if(dist > 23.75) {
            # non corner 3
            shot_type <- "NC3"
        } else {
            # 2 PT
            shot_type <- "2PT"
        }
    }
    
    return(shot_type)
    
}


# Analysis
shot_data <- read_csv("Data/shots_data.csv") %>%
    rowwise %>% 
    mutate(shot_type = shot_loc(x, y)) %>% 
    group_by(team, shot_type) %>%
    summarise(shot_distribution = mean(fgmade),
              eFG = 1.5*mean(fgmade)) %>% 
    mutate(eFG = ifelse(shot_type == "2PT", shot_distribution, eFG))
```
