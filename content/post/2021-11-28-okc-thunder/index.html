---
title: 
author: Michael Ellis
date: '2021-11-28'
slug: 
categories: []
tags: []
subtitle: ''
summary: ''
authors: []
lastmod: '2021-11-28T15:28:25-05:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<pre class="r"><code>library(&quot;tidyverse&quot;)

shot_loc &lt;- function(x, y) {
    
    if(y &lt;= 7.8) {
        if(x &gt; 22) {
            # corner 3
            shot_type &lt;- &quot;C3&quot;
        } else {
            # 2 PT
            shot_type &lt;- &quot;2PT&quot;
        }
    } else {
        dist &lt;- sqrt(x^2 + y^2)
        
        if(dist &gt; 23.75) {
            # non corner 3
            shot_type &lt;- &quot;NC3&quot;
        } else {
            # 2 PT
            shot_type &lt;- &quot;2PT&quot;
        }
    }
    
    return(shot_type)
    
}


# Analysis
shot_data &lt;- read_csv(&quot;Data/shots_data.csv&quot;) %&gt;%
    rowwise %&gt;% 
    mutate(shot_type = shot_loc(x, y)) %&gt;% 
    group_by(team, shot_type) %&gt;%
    summarise(shot_distribution = mean(fgmade),
              eFG = 1.5*mean(fgmade)) %&gt;% 
    mutate(eFG = ifelse(shot_type == &quot;2PT&quot;, shot_distribution, eFG))</code></pre>
